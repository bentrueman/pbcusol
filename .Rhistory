pb_sol(ph = 6, dic = 5, phase = "Cerussite")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol(ph = 6, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"))
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"))
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = "200 / chemr::mass("Na")
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = "200 / chemr::mass("Na"))
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = 200 / chemr::mass("Na"))
pb_sol_fixed(ph = 7, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 100 / chemr::mass("Si"), "Na" = 200 / chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 100 / chemr::mass("Si"), "Na" = 100 / chemr::mass("Na")))
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = 100 / chemr::mass("Na"))
pb_sol_fixed(ph = 7, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 100 / chemr::mass("Si"), "Na" = 100 / chemr::mass("Na")))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 100 / chemr::mass("Si"), "Na" = 100 / chemr::mass("Na")))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = 100 / chemr::mass("Na"))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = 50 / chemr::mass("Na"))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 50 / chemr::mass("Si"), Na = 50 / chemr::mass("Na"))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 50 / chemr::mass("Si"), "Na" = 50 / chemr::mass("Na")))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 25 / chemr::mass("Na")))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 25 / chemr::mass("Na"))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 25 / chemr::mass("Si"))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si")))
pb_sol_fixed(ph = 9, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 25 / chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 10 / chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 15 / chemr::mass("Na")))
pb_sol(ph = 7, dic = 0, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 15 / chemr::mass("Na"))
pb_sol(ph = 7, dic = 0, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 10 / chemr::mass("Na"))
pb_sol(ph = 7, dic = 0, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 10 / chemr::mass("Na"))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 10 / chemr::mass("Na")))
check()
document()
check()
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 10 / chemr::mass("Na")))
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 20 / chemr::mass("Na")))
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 30 / chemr::mass("Na")))
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 100 / chemr::mass("Na")))
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 200 / chemr::mass("Na")))
pb_sol(ph = 6, dic = 0, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 200 / chemr::mass("Na"))
48417609 / 1e9
48417609 / 1e6
925990  * 1e6
925990  * 1e-6
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 200 / chemr::mass("Na")), mu2 = mu * 2)
0.00447 * chemr::mass("PbSiO2")
0.00447 * chemr::mass("PbSiO3")
0.00447 * chemr::mass("Pb")
?pb_aol
?pb_sol
?ph_fix_definition
?tigyphreeqc:ph_fix_definition
?tigyphreeqc::ph_fix_definition
?tidyphreeqc::ph_fix_definition
?tidyphreeqc::phr_ph_fix_definition
use_r("pb_sol")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "H+")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
document()
check()
pb_sol(ph = 6, dic = 5, phase = "Cerussite")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 4.9, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 4.8, phase = "Cerussite", buffer = "HCl")
?pb_sol_fixe
?pb_sol_fixed
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
list(test = 1, me = "a", out = TRUE)
use_r("pb_sol_fixed")
document()
?pb_sol_fixed
document()
?pb_sol_fixed
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 5, Si = 10 / chemr::mass("Si"), phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 8, dic = 5, Si = 10 / chemr::mass("Si"), phase = "PbSiO3", buffer = "HCl")
document()
document()
pb_sol_fixed(ph = 8, dic = 5, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 8, dic = 5, phase = "PbSiO3", Si = 10 / chemr::mass("Si"), buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 5, phase = "PbSiO3", Si = 10 / chemr::mass("Si"), buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", Si = 10 / chemr::mass("Si"), buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", buffer = "HCl")
document()
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", buffer = "HCl")
document()
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "H+")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "H_")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "H+")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", Si = 10 / chemr::mass("Si"), buffer = "H+")
pb_sol(ph = 5, dic = 0, phase = "PbSiO3", Si = 10 / chemr::mass("Si"))
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "H+")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol(ph = 6, dic = 5, phase = "Cerussite")
document()
check()
?phr_ph_fix_definition()
?phr_pH_fix_definition()
document()
?pb_sol_fixed
document()
use_r("cu_sol")
document()
?cu_sol
document()
check()
library(devtools)
use_r("pb_sol_fixed")
document()
check()
?pb_sol_fixed
library(devtools)
library(tidyverse)
pbcusol::leadsol
pbcusol:::leadsol
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/leadsol.txt")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/cu2sol.txt")
library(devtools)
library(tidyverse)
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/cu2sol.txt")
write(phreeqc::sit.dat, "data-raw/sit.txt")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
lead2sol <- read_lines("data-raw/lead2sol.txt")
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite")
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = 200 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
lead2sol <- read_lines("data-raw/lead2sol.txt")
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = 200 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
lead2sol <- read_lines("data-raw/lead2sol.txt")
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Cerussite", Al = .5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .65, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .65, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .65, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
lead2sol <- read_lines("data-raw/lead2sol.txt")
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .5, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .5, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .5, "Hxypyromorphite", Al = 0.2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(5, 5, .5, "Hxypyromorphite", Al = 0.2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(5, 5, .5, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(5, 5, .5, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .5, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.15 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
lead2sol %>% enframe
lead2sol <- read_lines("data-raw/lead2sol.txt")
lead2sol %>% enframe
lead2sol %>% enframe() %>% filter(str_detect(value, "Varisc"))
lead2sol %>% enframe() %>% filter(str_detect(value, "Varisc"), str_detect(lag(value), "Varisc"))
lead2sol %>% enframe() %>% filter(str_detect(value, "Varisc") | str_detect(lag(value), "Varisc"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.02 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0.02 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0\ / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
library(devtools)
library(tidyphreeqc)
usethis::use_data_raw()
library("tidyverse")
lead2sol <- read_lines("data-raw/lead2sol.txt")
lead2sol
?use_data
leadsol
lead2sol %>% enframe() %>% filter(str_detect(value, "Varisc"))
## code to prepare `DATASET` dataset goes here
library("tidyverse")
write(pbcusol:::leadsol, "leadsol.txt")
write(pbcusol:::cu2sol, "cu2sol.txt")
# create lead2sol by adding variscite to leadsol from https://doi.org/10.1016/j.gca.2010.10.012
leadsol <- pbcusol:::leadsol
cu2sol <- pbcusol:::cu2sol
lead2sol <- read_lines("data-raw/lead2sol.txt")
usethis::use_data(leadsol, lead2sol, cu2sol, internal = TRUE, overwrite = TRUE)
load_all()
rm(list = c("cu2sol", "lead2sol", "leadsol"))
load_all()
pbcusol:::leadsol %>% enframe()
pbcusol:::lead2sol %>% enframe()
pbcusol:::cu2sol %>% enframe()
## code to prepare `DATASET` dataset goes here
library("tidyverse")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/cu2sol.txt")
# create lead2sol by adding variscite to leadsol from https://doi.org/10.1016/j.gca.2010.10.012
leadsol <- pbcusol:::leadsol
cu2sol <- pbcusol:::cu2sol
lead2sol <- read_lines("data-raw/lead2sol.txt")
usethis::use_data(leadsol, lead2sol, cu2sol, internal = TRUE, overwrite = TRUE)
rm(list = ls())
load_all()
pbcusol:::leadsol %>% enframe()
pbcusol:::lead2sol %>% enframe()
pbcusol:::cu2sol %>% enframe()
check()
library(devtools)
use_r("pb_sol_fixed")
tidyphreeqc::phr_pH_fix_definition()
tidyphreeqc::phr_pe_fix_definition()
pH_def <- tidyphreeqc::phr_pH_fix_definition()
pe_def <- tidyphreeqc::phr_pe_fix_definition()
pH_def, pe_def
pH_def; pe_def
soln <- tidyphreeqc::phr_input_section(
type =  "SOLUTION",
number = 1,
name = "water",
components = list(
"pH" = ph,
"C(4)" = dic / chemr::mass("C"),
"P" = phosphate / chemr::mass("P"),
"pe" = 4,
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
) %>% c(solution_components)
)
library("tidyphreeqc")
tidyphreeqc::phr_input_section(
type =  "SOLUTION",
number = 1,
name = "water",
components = list(
"pH" = ph,
"C(4)" = dic / chemr::mass("C"),
"P" = phosphate / chemr::mass("P"),
"pe" = 4,
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
)
)
tidyphreeqc::phr_input_section(
type =  "SOLUTION",
number = 1,
name = "water",
components = list(
"pH" = 7,
"C(4)" = dic / chemr::mass("C"),
"P" = phosphate / chemr::mass("P"),
"pe" = 4,
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
)
)
tidyphreeqc::phr_input_section(
type =  "SOLUTION",
number = 1,
name = "water",
components = list(
"pH" = 7,
"C(4)" = 5 / chemr::mass("C"),
"P" = 1 / chemr::mass("P"),
"pe" = 4,
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
)
)
new_phase = list()
add_phase <- tidyphreeqc::phr_input_section(
type = "PHASE",
components = new_phase
)
add_phase
document()
load_all()
pb_sol_fixed(7, 5, 1, "Hyxpyromorphite")
pb_sol_fixed(7, 5, 1, "Hxypyromorphite")
pb_sol_fixed(7, 5, 1, "Hxypyromorphite", new_phase = list("Variscite", "AlPO4:2H2O = Al+3 + PO4-3 + 2H2O", "log_k" = -22.36, "delta_h" = 0))
new_phase = list("Variscite", "AlPO4:2H2O = Al+3 + PO4-3 + 2H2O", "log_k" = -22.36, "delta_h" = 0)
new_phase
document()
load_all()
pb_sol_fixed(7, 5, 1, "Hxypyromorphite", new_phase = list("Variscite", "AlPO4:2H2O = Al+3 + PO4-3 + 2H2O", "log_k" = -22.36, "delta_h" = 0))
pb_sol_fixed(7, 5, 1, "Hxypyromorphite", new_phase = list("Variscite", "AlPO4:2H2O = Al+3 + PO4-3 + 2H2O", "log_k" = -22.36, "delta_h" = 0), eq_phase_components = list("Variscite" = c(0, 0)))
pb_sol_fixed(7, 5, 1, "Hxypyromorphite", new_phase = list("Variscite", "AlPO4:2H2O = Al+3 + PO4-3 + 2H2O", "log_k" = -22.36, "delta_h" = 0), eq_phase_components = list("Variscite" = c(0, 0)), Al = 1 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 1, "Hxypyromorphite", db = pbcusol:::lead2sol, eq_phase_components = list("Variscite" = c(0, 0)), Al = 1 / chemr::mass("Al"))
pb_sol_fixed(8, 10, 1, "Hxypyromorphite", new_phase = list("Variscite", "AlPO4:2H2O = Al+3 + PO4-3 + 2H2O", "log_k" = -22.36, "delta_h" = 0), eq_phase_components = list("Variscite" = c(0, 0)), Al = 1 / chemr::mass("Al"))
pb_sol_fixed(8, 10, 1, "Hxypyromorphite", db = pbcusol:::lead2sol, eq_phase_components = list("Variscite" = c(0, 0)), Al = 1 / chemr::mass("Al"))
pb_sol_fixed(9, 50, 1, "Hxypyromorphite", new_phase = list("Variscite", "AlPO4:2H2O = Al+3 + PO4-3 + 2H2O", "log_k" = -22.36, "delta_h" = 0), eq_phase_components = list("Variscite" = c(0, 0)), Al = 1 / chemr::mass("Al"))
pb_sol_fixed(9, 50, 1, "Hxypyromorphite", db = pbcusol:::lead2sol, eq_phase_components = list("Variscite" = c(0, 0)), Al = 1 / chemr::mass("Al"))
library("tidyverse")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/cu2sol.txt")
leadsol <- pbcusol:::leadsol
cu2sol <- pbcusol:::cu2sol
## code to prepare `DATASET` dataset goes here
library("tidyverse")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/cu2sol.txt")
leadsol <- pbcusol:::leadsol
cu2sol <- pbcusol:::cu2sol
usethis::use_data(leadsol, cu2sol, internal = TRUE, overwrite = TRUE)
document()
rm(list = ls())
document()
check()
library(devtools)
use_r("pb_sol_fixed")
document()
check()
document()
check()
load_all()
pb_sol_fixed(7, 5, 1, "Hxypyromorphite")
pb_sol_fixed(7, 5, 1, "Hxypyromorphite",
new_species = list("HPO42- + Al3+ = AlHPO4+", "log_k" = 7.4))
pb_sol_fixed(7, 5, 1, "Hxypyromorphite",
new_species = list("HPO4-2 + Al+3 = AlHPO4+", "log_k" = 7.4))
pb_sol_fixed(7, 5, 1, "Hxypyromorphite",
new_species = list("HPO4-2 + Al+3 = AlHPO4+", "log_k" = 7.4), Al = 1 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 1, "Hxypyromorphite",
new_species = list("HPO4-2 + Al+3 = AlHPO4+", "log_k" = 7.4), Al = 2 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 1, "Hxypyromorphite",
new_species = list("HPO4-2 + Al+3 = AlHPO4+", "log_k" = 7.4), Al = 3 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 1, "Hxypyromorphite",
new_species = list("HPO4-2 + Al+3 = AlHPO4+", "log_k" = 7.4), Al = 4 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 2, "Hxypyromorphite",
new_species = list("HPO4-2 + Al+3 = AlHPO4+", "log_k" = 7.4), Al = 4 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 2, "Hxypyromorphite",
new_species = list("HPO4-2 + Al+3 = AlHPO4+", "log_k" = 7.4), Al = 0 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 2, "Hxypyromorphite",  Al = 0 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 2, "Hxypyromorphite",  Al = 4 / chemr::mass("Al"))
pb_sol_fixed(7, 5, 2, "Hxypyromorphite",  new_species = list("HPO4-2 + Al+3 = AlHPO4+", "log_k" = 7.4), Al = 4 / chemr::mass("Al"))
library("devtools")
library(tidyverse)
use_r("pb_sol_fixed")
?pb_sol_fixed
?pbcusol::pb_sol_fixed
eq_phase_components = list()
buffer = "NaOH"
ph = 7
eq_phase_components = list()
eq_phase <- tidyphreeqc::phr_input_section(
type = "EQUILIBRIUM_PHASES",
number = 1,
name = "Solid",
components = list(
"phase" = c(0, 10),
"Fix_pH" = c(-ph, buffer, 1e6),
"Fix_pe" = c(-4, "O2", 1e6)
) %>%
rlang::set_names(c(phase, "Fix_pH", "Fix_pe")) %>%
c(eq_phase_components)
)
phase = "Hxypyromorphite"
eq_phase <- tidyphreeqc::phr_input_section(
type = "EQUILIBRIUM_PHASES",
number = 1,
name = "Solid",
components = list(
"phase" = c(0, 10),
"Fix_pH" = c(-ph, buffer, 1e6),
"Fix_pe" = c(-4, "O2", 1e6)
) %>%
rlang::set_names(c(phase, "Fix_pH", "Fix_pe")) %>%
c(eq_phase_components)
)
eq_phase
eq_phase %>% names()
eq_phase$components
eq_phase$name
eq_phase$number
eq_phase$type
eq_phase$components
names(eq_phase$components)
names(eq_phase$components) %>% str_remove("Fix_pH")
names(eq_phase$components) %>% paste(collapse = " ")
names(eq_phase$components) %>% paste(collapse = " ") %>% str_remove("Fix_p[eH]")
names(eq_phase$components) %>% paste(collapse = " ") %>% str_remove_all("Fix_p[eH]")
names(eq_phase$components) %>% paste(collapse = " ") %>% str_remove_all("Fix_p[eH]") %>% str_trim()
eq_phase_components = list("Variscite" = c(0, 0))
eq_phase <- tidyphreeqc::phr_input_section(
type = "EQUILIBRIUM_PHASES",
number = 1,
name = "Solid",
components = list(
"phase" = c(0, 10),
"Fix_pH" = c(-ph, buffer, 1e6),
"Fix_pe" = c(-4, "O2", 1e6)
) %>%
rlang::set_names(c(phase, "Fix_pH", "Fix_pe")) %>%
c(eq_phase_components)
)
names(eq_phase$components) %>% paste(collapse = " ") %>% str_remove_all("Fix_p[eH]") %>% str_trim()
names(eq_phase$components) %>% paste(collapse = " ")
paste(names(eq_phase$components), collapse = " ")
paste(names(eq_phase$components), collapse = " ")
phase
tibble(a = 1)
tibble(a = 1) %>% mutate(phase := a ^ 2)
phase
tibble(a = 1) %>% mutate(!!phase := a ^ 2)
tibble(a = 1) %>% mutate(paste0("mol_", !!phase) := a ^ 2)
tibble(a = 1) %>% mutate(paste0("mol_", phase) := a ^ 2)
paste0("mol_", phase)
tibble(a = 1) %>% mutate(!!paste0("mol_", phase) := a ^ 2)
tibble(a = 1) %>% mutate(!!paste0("mol_", phase) := .data$a ^ 2)
tibble(a = 1) %>% mutate(!!paste0("mol_", phase) := .data$b ^ 2)
tibble(a = 1) %>% mutate(!!paste0("mol_", phase) := .data$a ^ 2)
tibble(a = 1) %>% mutate(!!paste0("mol_", phase) := .data$a ^ 2)
tibble(a = 1) %>% mutate()
tibble(a = 1) %>% mutate(if(TRUE) {!!paste0("mol_", phase) := .data$a ^ 2})
tibble(a = 1) %>% mutate(if(TRUE) !!paste0("mol_", phase) := .data$a ^ 2)
tibble(a = 1) %>% mutate(if(TRUE) eval(!!paste0("mol_", phase) := .data$a ^ 2))
tibble(a = 1) %>% mutate()
document()
load_all()
document()
document()
load_all()
pb+sol_fixed(7, 5, 1, "Hxypyromorphite")
pb_sol_fixed(7, 5, 1, "Hxypyromorphite")
pb_sol_fixed(7, 5, 1, "Hxypyromorphite", phase_out = "Fix_pe")
?pb_sol_fixed
document()
check()
document()
check()
document()
document()
check()
library(devtools)
library(tidyverse)
use_r("pb_sol_fixed")
SS = 159300 - 220800/(.003)^0.09 + 91260/(.003)^0.18
159300 - 220800/(.003)^0.09 + 91260/(.003)^0.18
rm(SS)
SS
159300 - 220800/(0.00732)^0.09 + 91260/(0.00732)^0.18
use_r("pb_sol_wham")
7.1 * 3.5
mu_is = .003
159300 - 220800/ mu_is ^ 0.09 + 91260 / mu_is ^ 0.18
46.5e3
document()
use_r("pb_sol_fixed")
document*
document()
load_all()
?pb_sol_fixed
document()
document()
document()
load_all()
?pb_sol_fixed
library(devtools)
library(tidyverse)
use_r("pb_sol_fixed")
document()
document()
load_all()
?pb_sol_fixed
use_r("pb_sol_wham")
document()
load_all()
?pb_sol_fixed
use_r("pb_sol_wham")
document()
load_all()
247 / chemr::mass("Na")
pb_sol_wham(ph = 7.5, dic = 50, phase = "Cerussite", Na = 10, mass_ha = 3.5e-3)
document()
load_all()
pb_sol_wham(ph = 7.5, dic = 50, phase = "Cerussite", Na = 10, mass_ha = 3.5e-3)
pb_sol_wham(ph = 7.5, dic = 50, phase = "Cerussite", Na = 10, mass_ha = 3.5e-3) %>% mutate(total_pb_ppb = mol_Cerussite * 1e6 * chemr::mass("Pb"))
document()
?pb_sol_wham
pb_sol_wham(ph = 7.5, dic = 50, phase = "Cerussite", Na = 10, mass_ha = 3.5e-3, mu_is = 0.00695) %>% mutate(total_pb_ppb = mol_Cerussite * 1e6 * chemr::mass("Pb"))
