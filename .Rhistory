library(devtools)
use_mit_license("Benjamin Trueman")
remotes::install_github("tidyphreeqc")
remotes::install_github("paleolimbot/tidyphreeqc")
use_package("tidyphreeqc")
use_r("calculate_dic")
?expand.grid
document()
check()
load_all()
calculate_dic(7.5, 20)
?calculate_dic
library(devtools)
use_r("pb_sol")
use_package("dplyr")
use_package("chemr")
?as_tibble()
use_package("tibble")
document()
document()
load_all()
pb_sol(7.5, 5, phase = "Cerussite")
document()
pb_sol(7.5, 5, phase = "Cerussite")
pb_sol(7.5, 5, phase = "Hydcerussite")
pb_sol(7.5, 5, phase = "Hydrocerussite")
pb_sol(7.5, 5, phase = "Cerussite")
pb_sol(7.5, calculate_dic(7.5, 20), phase = "Cerussite")
check()
use_package("rlang")
document()
check()
use_r("calculate_dic")
calculate_dic(c(7.5, 7), c(20, 25))
document()
use_r("pb_sol")
document()
check()
use_r("cu_sol")
document()
use_r("calculate_wdensity")
document()
calculate_wdensity(25)
document()
document()
load_all()
cu_sol(ph = 7.5, dic = 5, phase = "Cu(OH)2")
cu_sol(ph = 7.5, dic = 5, phase = "Tenorite")
?use_db
?tidyphreeqc::use_db
?phr_use_db
use_package("phreeqc")
document()
load_all()
cu_sol(ph = 7.5, dic = 5, phase = "Tenorite")
document()
load_all()
cu_sol(ph = 7.5, dic = 5, phase = "Tenorite")
document()
pb_sol(ph = 7.5, dic = 5, phase = "Cerussite")
pb_sol(ph = c(7, 7.5), dic = 5, phase = "Cerussite")
pb_sol(ph = c(7, 7.5), dic = c(5, 10), phase = "Cerussite")
document()
check()
document()
check()
library(devtools)
library(tidyverse)
db <- read_lines("minteq_database_leadsol.txt")
db
leadsol <- read_lines("minteq_database_leadsol.txt")
cu2sol <- read_lines("minteq_database_cu2sol.txt")
use_data(leadsol, cu2sol, internal = TRUE)
use_r("pb_sol")
pbcusol:::leadsol
document()
load_all()
cu2sol()
?cu2sol()
cu2sol
document()
check()
check()
check()
library(devtools)
load_all()
?pb_sol
pb_sol(ph = 7.5, dic = 5, phase = "Cerussite")
pb_sol(ph = 7.5, dic = 5, db = phreeqc::minteq.dat, phase = "Cerussite")
pb_sol(ph = 7.5, dic = 5, db = phreeqc::minteq.v4..dat, phase = "Cerussite")
pb_sol(ph = 7.5, dic = 5, db = phreeqc::minteq.v4.dat, phase = "Cerussite")
use_r("cu_sol")
document()
cu_sol(ph = 7.5, dic = 5, phase = "Tenorite")
cu_sol(ph = 7.5, dic = 5, db = phreeqc::minteq.dat, phase = "Tenorite")
cu_sol(ph = 7.5, dic = 5, db = phreeqc::minteq.v4.dat, phase = "Tenorite")
pbcusol:::cu2sol
cu_sol(ph = 7.5, dic = 5, db = phreeqc::minteq.v4.dat, phase = "Tenorite")
use_r("pb_sol")
pb_sol(ph = 7.5, dic = 5, db = phreeqc::minteq.v4.dat, phase = "Cerussite")
pb_sol(ph = 7.5, dic = 5, phase = "Cerussite")
check()
document()
document()
use_readme_md()
use_readme_rmd()
list("Cu(OH)2", "Tenorite", "Malachite") %>%
set_names()
library("tidyverse")
library("pbcusol")
list("Cu(OH)2", "Tenorite", "Malachite") %>%
set_names()
solutions_cu <- crossing(
phase = "Cu(OH)2", "Tenorite", "Malachite",
# ph = seq(6, 11, by = .025),
# dic = seq(1, 150, by = .5)
ph = seq(6, 11, by = 1),
dic = seq(1, 150, by = 10)
) %>%
mutate(cu_ppb = cu_sol(ph, dic, phase = phase))
crossing(
phase = "Cu(OH)2", "Tenorite", "Malachite",
# ph = seq(6, 11, by = .025),
# dic = seq(1, 150, by = .5)
ph = seq(6, 11, by = 1),
dic = seq(1, 150, by = 10)
)
crossing(
phase = c("Cu(OH)2", "Tenorite", "Malachite"),
# ph = seq(6, 11, by = .025),
# dic = seq(1, 150, by = .5)
ph = seq(6, 11, by = 1),
dic = seq(1, 150, by = 10)
)
solutions_cu <- crossing(
phase = c("Cu(OH)2", "Tenorite", "Malachite"),
# ph = seq(6, 11, by = .025),
# dic = seq(1, 150, by = .5)
ph = seq(6, 11, by = 1),
dic = seq(1, 150, by = 10)
) %>%
mutate(cu_ppb = cu_sol(ph, dic, phase = phase))
cu_sol
cu_sol(ph = 7, dic = 5, phase = "Tenorite")
cu_sol(ph = 7, dic = 5, phase = "Malachite")
crossing(
phase = c("Cu(OH)2", "Tenorite", "Malachite"),
# ph = seq(6, 11, by = .025),
# dic = seq(1, 150, by = .5)
ph = seq(6, 11, by = 1),
dic = seq(1, 150, by = 10)
) %>%
rowwise()
solutions_cu <- crossing(
phase = c("Cu(OH)2", "Tenorite", "Malachite"),
# ph = seq(6, 11, by = .025),
# dic = seq(1, 150, by = .5)
ph = seq(6, 11, by = 1),
dic = seq(1, 150, by = 10)
) %>%
rowwise() %>%
mutate(cu_ppb = cu_sol(ph, dic, phase = phase))
solutions_cu %>%
mutate(phase = if_else(phase == "Cu(OH)2", "Cu(OH)[2]", phase)) %>%
mutate(cu_mg_l = log10(cu_mg_l)) %>%
ggplot(aes(x = dic_mgc_l, y = ph)) +
facet_grid(. ~ phase, labeller = label_parsed) +
viridis::scale_color_viridis(option = "magma") +
geom_point(aes(col = cu_mg_l), shape = 15, size = 1) +
geom_contour(aes(z = cu_mg_l), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_mg_l), col = "white", breaks = -3:3) +
theme(legend.position = "top") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
col = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
solutions_cu %>%
mutate(phase = if_else(phase == "Cu(OH)2", "Cu(OH)[2]", phase)) %>%
mutate(cu_ppb = log10(cu_ppb)) %>%
ggplot(aes(x = dic_mgc_l, y = ph)) +
facet_grid(. ~ phase, labeller = label_parsed) +
viridis::scale_color_viridis(option = "magma") +
geom_point(aes(col = cu_ppb), shape = 15, size = 1) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:3) +
theme(legend.position = "top") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
col = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
solutions_cu %>%
mutate(phase = if_else(phase == "Cu(OH)2", "Cu(OH)[2]", phase)) %>%
mutate(cu_ppb = log10(cu_ppb)) %>%
ggplot(aes(x = dic, y = ph)) +
facet_grid(. ~ phase, labeller = label_parsed) +
viridis::scale_color_viridis(option = "magma") +
geom_point(aes(col = cu_ppb), shape = 15, size = 1) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:3) +
theme(legend.position = "top") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
col = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
?geom_raster
solutions_cu %>%
mutate(
phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb)
) %>%
ggplot(aes(x = dic, y = ph)) +
facet_wrap(vars(phase), labeller = label_parsed) +
geom_raster(aes(fill = cu_ppb)) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:3) +
viridis::scale_color_viridis(option = "magma") +
theme(legend.position = "bottom") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
col = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
solutions_cu
solutions_cu %>%
mutate(
phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb)
)
?fct_recode
solutions_cu %>%
mutate(
#phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb)
) %>%
ggplot(aes(x = dic, y = ph)) +
facet_wrap(vars(phase), labeller = label_parsed) +
geom_raster(aes(fill = cu_ppb)) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:3) +
viridis::scale_color_viridis(option = "magma") +
theme(legend.position = "bottom") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
col = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
solutions_cu %>%
mutate(
#phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb)
) %>%
ggplot(aes(x = dic, y = ph)) +
facet_wrap(vars(phase)) +
geom_raster(aes(fill = cu_ppb)) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:3) +
viridis::scale_color_viridis(option = "magma") +
theme(legend.position = "bottom") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
col = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
solutions_cu %>%
mutate(
#phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb)
) %>%
ggplot(aes(x = dic, y = ph)) +
facet_wrap(vars(phase)) +
geom_raster(aes(fill = cu_ppb)) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:3) +
viridis::scale_fill_viridis(option = "magma") +
theme(legend.position = "bottom") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
col = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
solutions_cu %>%
mutate(
#phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb)
) %>%
ggplot(aes(x = dic, y = ph)) +
facet_wrap(vars(phase)) +
geom_raster(aes(fill = cu_ppb)) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:3) +
viridis::scale_fill_viridis(option = "magma") +
theme(legend.position = "bottom") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
fill = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
solutions_cu <- crossing(
phase = c("Cu(OH)2", "Tenorite", "Malachite"),
# ph = seq(6, 11, by = .025),
# dic = seq(1, 150, by = .5)
ph = seq(6, 11, by = .1),
dic = seq(1, 150, by = 5)
) %>%
rowwise() %>%
mutate(cu_ppb = cu_sol(ph, dic, phase = phase)) %>%
ungroup()
solutions_cu %>%
mutate(
#phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb)
) %>%
ggplot(aes(x = dic, y = ph)) +
facet_wrap(vars(phase)) +
geom_raster(aes(fill = cu_ppb)) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 3, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:3) +
viridis::scale_fill_viridis(option = "magma") +
theme(legend.position = "bottom") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
fill = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
solutions_cu %>%
mutate(
#phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb)
) %>%
ggplot(aes(x = dic, y = ph)) +
facet_wrap(vars(phase)) +
geom_raster(aes(fill = cu_ppb)) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 5, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:5) +
viridis::scale_fill_viridis(option = "magma") +
theme(legend.position = "bottom") +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
fill = expression("log"[10]~"[Cu] (mg L"^"-1"*")")
)
cu_sol
cu_sol
