cu_logk()
?str_trim
document()
?str_trim
cu_logk()
cu_logk() %>% View
check()
?use_r("cu_logk")
use_r("cu_logk")
document()
check()
library(pbcusol)
cu_logk()
devtools()
library(devtools)
load_all()
cu_logk()
cu_logk() %>% View
cu_logk()
cu_logk
database <- cu2sol %>%
tibble::enframe(name = NULL) %>%
tibble::rowid_to_column()
phases <- database %>%  # phases start on line 3437, solution species are before
dplyr::filter(stringr::str_detect(.data$value, "PHASE")) %>%
dplyr::pull(.data$rowid)
filter_these <- c("ine", "ate", "ide", "ta", "Al", "Se", "U", "As", "B", "Br",
"F", "I", "V", "HS", "Cr", "Sb", "Pb", "Si") %>%
paste(collapse = "|")
table <- database %>%
dplyr::filter(
.data$rowid > 152, # solution reactions start on line 152, lines 1 - 151are essential definitions
stringr::str_detect(.data$value, "Cu") | # retain equations with Cu
(.data$rowid > phases & dplyr::lead(.data$value, 1) %>% stringr::str_detect("Cu")) | # and phase names (above equations)
dplyr::lag(.data$value, 1) %>% stringr::str_detect("Cu")  # and log K values (below equations)
) %>%
dplyr::mutate(
type = dplyr::case_when( # indicates type of data in value column
stringr::str_detect(.data$value, "=") ~ "eqn",
stringr::str_detect(.data$value, "log_k") ~ "log_k",
TRUE ~ "phase"
),
name = dplyr::case_when( # reaction (solution species) or name of phase
.data$rowid < phases & .data$type == "eqn" ~ .data$value,
.data$rowid >= phases & .data$type == "phase" ~ .data$value
)
) %>%
tidyr::fill(.data$name) %>%
dplyr::filter(.data$type != "phase") %>% # remove b/c phase transferred to name column
dplyr::group_by(.data$name, .data$type) %>%
# collapses duplicate name and type combinations to same row
dplyr::summarize(data = paste(.data$value, collapse = ", ")) %>%
dplyr::select(.data$name, .data$type, .data$data) %>%
tidyr::spread(key = .data$type, value = .data$data) %>%
dplyr::filter(!stringr::str_detect(.data$eqn, filter_these)) %>%
dplyr::ungroup() %>%
dplyr::mutate(
log_k = stringr::str_remove_all(.data$log_k, "\t|log_k") %>% stringr::str_trim(side = "both"),
name = ifelse(stringr::str_detect(.data$name, "="), "", .data$name)
) %>%
dplyr::arrange(.data$name, stringr::str_remove_all(.data$eqn, "[0-9]"))
View(table)
use_r("cu_logk")
document()
check()
cu_logk() %>% View
head(phreeqc::minteq.dat)
load_all()
pb_logk()
pb_logk() %>% View
cu_logk()
cu_logk() %>% View
build_readme()
library(devtools)
use_r("cu_sol")
document()
cu_sol(7.5, 5, phase = "Tenorite")
cu_sol(7.5, 5, Ca = 1, phase = "Tenorite")
cu_sol(7.5, 5, Ca = 2, phase = "Tenorite")
cu_sol(7.5, 5, Ca = 100, phase = "Tenorite")
cu_sol(7.5, 5, Ca = 100 / chemr::mass("Ca"), phase = "Tenorite")
cu_sol(7.5, 5, Ca = 200 / chemr::mass("Ca"), phase = "Tenorite")
cu_sol(7.5, 5, Ca = 200 / chemr::mass("Ca"), Mg = 50 / chemr::mass("Mg"), phase = "Tenorite")
document()
?read_csv
library("tidyverse")
?read_csv
?mapply
use_r("pb_sol")
document()
check()
dic_increment_cu <- 15
solutions_cu <- list("Cu(OH)2", "Tenorite", "Malachite") %>%
set_names() %>%
map_dfr(
~cu_sol(
ph = seq(6, 11, by = .25),
dic = seq(1, 150, by = dic_increment_cu),
phase = .x
),
.id = "phase"
)
solutions_cu %>%
mutate(
phase = fct_recode(phase, "Cu(OH)[2]" = "Cu(OH)2"),
cu_ppb = log10(cu_ppb),
dic_ppm = plyr::round_any(dic_ppm, dic_increment_cu)
) %>%
ggplot(aes(x = dic_ppm, y = pH)) +
facet_wrap(vars(phase), labeller = label_parsed) +
geom_raster(aes(fill = cu_ppb)) +
geom_contour(aes(z = cu_ppb), col = "white", linetype = 2, size = .2, breaks = seq(-4, 5, by = .1)) +
geom_contour(aes(z = cu_ppb), col = "white", breaks = -3:5) +
viridis::scale_fill_viridis(option = "magma", labels = function(breaks) 1e-3 * (10 ^ breaks)) +
labs(
x = expression("[C]"[inorganic]~"(mg L"^"-1"*")"),
y = "pH",
fill = expression("[Cu] (mg L"^"-1"*")")
)
library(devtools)
use_r("pb_sol_fixed")
?set_names
document()
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), phase = "Cerussite")
document()
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), phase = "Cerussite")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), phase = "Cerussite", buffer = "H+")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), phase = "Cerussite", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "Cerussite", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Na" = 10 / chemr::mass("Na")
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "Cerussite", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Na" = 10 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "Cerussite", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Na" = 5 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "Cerussite", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Na" = 10 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "Cerussite", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
#"Na" = 10 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "Cerussite", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
#"Na" = 10 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(pH = 6.08, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
#"Na" = 10 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(pH = 6.08, C = 5 / chemr::mass("C"), phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(pH = 6.08, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"Na" = 10 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"Na" = 20 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"Na" = 30 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"Na" = 40 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"Na" = 50 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"Na" = 60 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"Na" = 100 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 10 / chemr::mass("Si"),
"Na" = 200 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), solution_components = list(
"pe" = 4,
"Si" = 100 / chemr::mass("Si"),
"Na" = 200 / chemr::mass("Na"),
"temp" = 25,
"redox" = "pe",
"units" = "mmol/kgw",
"density" = 1,
"-water" = 1
), phase = "PbSiO3", buffer = "NaOH")
pb_sol(pH = 7.5, dic = 5, phase = "Cerussite")
pb_sol(ph = 7.5, dic = 5, phase = "Cerussite")
pb_sol_fixed(pH = 7.5, C = 5 / chemr::mass("C"))
pb_sol_fixed(pH = 7.5, C = 5 / chemr::mass("C"), phase = "Cerussite")
pb_sol_fixed(pH = 7, C = 5 / chemr::mass("C"), phase = "Cerussite")
pb_sol(ph = 7, dic = 5, phase = "Cerussite")
pb_sol(ph = 6, dic = 5, phase = "Cerussite")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), phase = "Cerussite")
document()
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), phase = "Cerussite")
pb_sol_fixed(pH = 6, C = 5 / chemr::mass("C"), phase = "Cerussite", buffer = "HCl")
pb_sol(ph = 6, dic = 5, phase = "Cerussite")
3156 / 3249
document()
pb_sol(ph = 6, dic = 5, phase = "Cerussite")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol(ph = 6, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"))
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"))
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = "200 / chemr::mass("Na")
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = "200 / chemr::mass("Na"))
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = 200 / chemr::mass("Na"))
pb_sol_fixed(ph = 7, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 100 / chemr::mass("Si"), "Na" = 200 / chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 100 / chemr::mass("Si"), "Na" = 100 / chemr::mass("Na")))
pb_sol(ph = 7, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = 100 / chemr::mass("Na"))
pb_sol_fixed(ph = 7, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 100 / chemr::mass("Si"), "Na" = 100 / chemr::mass("Na")))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 100 / chemr::mass("Si"), "Na" = 100 / chemr::mass("Na")))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = 100 / chemr::mass("Na"))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 100 / chemr::mass("Si"), Na = 50 / chemr::mass("Na"))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 50 / chemr::mass("Si"), Na = 50 / chemr::mass("Na"))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 50 / chemr::mass("Si"), "Na" = 50 / chemr::mass("Na")))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 25 / chemr::mass("Na")))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 25 / chemr::mass("Na"))
pb_sol(ph = 9, dic = 5, phase = "PbSiO3", Si = 25 / chemr::mass("Si"))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"))
pb_sol_fixed(ph = 9, dic = 5, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si")))
pb_sol_fixed(ph = 9, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 25 / chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 10 / chemr::mass("Na")))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 15 / chemr::mass("Na")))
pb_sol(ph = 7, dic = 0, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 15 / chemr::mass("Na"))
pb_sol(ph = 7, dic = 0, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 10 / chemr::mass("Na"))
pb_sol(ph = 7, dic = 0, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 10 / chemr::mass("Na"))
pb_sol_fixed(ph = 7, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 10 / chemr::mass("Na")))
check()
document()
check()
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 10 / chemr::mass("Na")))
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 20 / chemr::mass("Na")))
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 30 / chemr::mass("Na")))
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 100 / chemr::mass("Na")))
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 200 / chemr::mass("Na")))
pb_sol(ph = 6, dic = 0, phase = "PbSiO3", Si = 25 / chemr::mass("Si"), Na = 200 / chemr::mass("Na"))
48417609 / 1e9
48417609 / 1e6
925990  * 1e6
925990  * 1e-6
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", solution_components = list("Si" = 25 / chemr::mass("Si"), "Na" = 200 / chemr::mass("Na")), mu2 = mu * 2)
0.00447 * chemr::mass("PbSiO2")
0.00447 * chemr::mass("PbSiO3")
0.00447 * chemr::mass("Pb")
?pb_aol
?pb_sol
?ph_fix_definition
?tigyphreeqc:ph_fix_definition
?tigyphreeqc::ph_fix_definition
?tidyphreeqc::ph_fix_definition
?tidyphreeqc::phr_ph_fix_definition
use_r("pb_sol")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "H+")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
document()
check()
pb_sol(ph = 6, dic = 5, phase = "Cerussite")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 4.9, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 4.8, phase = "Cerussite", buffer = "HCl")
?pb_sol_fixe
?pb_sol_fixed
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
list(test = 1, me = "a", out = TRUE)
use_r("pb_sol_fixed")
document()
?pb_sol_fixed
document()
?pb_sol_fixed
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 5, Si = 10 / chemr::mass("Si"), phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 8, dic = 5, Si = 10 / chemr::mass("Si"), phase = "PbSiO3", buffer = "HCl")
document()
document()
pb_sol_fixed(ph = 8, dic = 5, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 8, dic = 5, phase = "PbSiO3", Si = 10 / chemr::mass("Si"), buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 5, phase = "PbSiO3", Si = 10 / chemr::mass("Si"), buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", Si = 10 / chemr::mass("Si"), buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", buffer = "HCl")
document()
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", buffer = "HCl")
document()
pb_sol_fixed(ph = 6, dic = 0, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "NaOH")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "H+")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "HCl")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "H_")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", buffer = "H+")
pb_sol_fixed(ph = 5, dic = 0, phase = "PbSiO3", Si = 10 / chemr::mass("Si"), buffer = "H+")
pb_sol(ph = 5, dic = 0, phase = "PbSiO3", Si = 10 / chemr::mass("Si"))
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "H+")
pb_sol_fixed(ph = 6, dic = 5, phase = "Cerussite", buffer = "HCl")
pb_sol(ph = 6, dic = 5, phase = "Cerussite")
document()
check()
?phr_ph_fix_definition()
?phr_pH_fix_definition()
document()
?pb_sol_fixed
document()
use_r("cu_sol")
document()
?cu_sol
document()
check()
library(devtools)
use_r("pb_sol_fixed")
document()
check()
?pb_sol_fixed
library(devtools)
library(tidyverse)
pbcusol::leadsol
pbcusol:::leadsol
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/leadsol.txt")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/cu2sol.txt")
library(devtools)
library(tidyverse)
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
write(pbcusol:::cu2sol, "data-raw/cu2sol.txt")
write(phreeqc::sit.dat, "data-raw/sit.txt")
write(pbcusol:::leadsol, "data-raw/leadsol.txt")
lead2sol <- read_lines("data-raw/lead2sol.txt")
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite")
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = 200 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
lead2sol <- read_lines("data-raw/lead2sol.txt")
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = 200 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
lead2sol <- read_lines("data-raw/lead2sol.txt")
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol)
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Cerussite", Al = .5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .15, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .65, "Hxypyromorphite", Al = .1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .65, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .65, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
lead2sol <- read_lines("data-raw/lead2sol.txt")
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, 1, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .5, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .5, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.5, 5, .5, "Hxypyromorphite", Al = 0.2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(5, 5, .5, "Hxypyromorphite", Al = 0.2 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(5, 5, .5, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(5, 5, .5, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .5, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.15 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
lead2sol %>% enframe
lead2sol <- read_lines("data-raw/lead2sol.txt")
lead2sol %>% enframe
lead2sol %>% enframe() %>% filter(str_detect(value, "Varisc"))
lead2sol %>% enframe() %>% filter(str_detect(value, "Varisc"), str_detect(lag(value), "Varisc"))
lead2sol %>% enframe() %>% filter(str_detect(value, "Varisc") | str_detect(lag(value), "Varisc"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .15, "Hxypyromorphite", Al = 0.02 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0.02 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0.5 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0.1 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0\ / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
pbcusol::pb_sol_fixed(7.2, 5, .65, "Hxypyromorphite", Al = 0 / chemr::mass("Al"), eq_phase_components = list("Variscite" = c(0, 0)), db = lead2sol, Na = 10 / chemr::mass("Na"))
